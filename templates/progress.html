<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Typing Progress Circle</title>
    <style>
      .progress-container {
        position: relative;
        width: 120px;
        height: 120px;
      }
      .progress-text {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-family: Arial, sans-serif;
        font-size: 24px;
        font-weight: bold;
        color: #333;
      }
      svg {
        transform: rotate(-90deg);
      }
      .progress-ring__circle {
        fill: none;
        stroke-width: 10;
        stroke-linecap: round;
      }
    </style>
  </head>
  <body>
    <div class="progress-container">
      <svg class="progress-ring" width="120" height="120">
        <circle
          class="progress-ring__circle"
          stroke="green"
          cx="60"
          cy="60"
          r="52"
        />
        <circle
          class="progress-ring__circle"
          id="progressCircle"
          stroke="lightgrey"
          cx="60"
          cy="60"
          r="52"
        />
      </svg>
      <div class="progress-text" id="progressText">0%</div>
    </div>

    <script>
      function updateProgress(percentage) {
        const progressText = document.getElementById("progressText");
        const progressCircle = document.getElementById("progressCircle");

        const circumference = 2 * Math.PI * 52; // Circle circumference
        progressCircle.style.strokeDasharray = `${circumference} ${circumference}`;
        progressCircle.style.strokeDashoffset =
          circumference - (percentage / 100) * circumference;

        progressText.textContent = `${Math.round(percentage)}%`;
      }

      // This function is expected to be called from another file
      function updateTypingProgress(currentLetters, totalLetters) {
        const percentage = (currentLetters / totalLetters) * 100;
        updateProgress(percentage);
      }

      // Example external call
      // Assume this is how the other file updates the progress
      // updateTypingProgress(50, 100); // You can test this by manually calling it from the console or another script
    </script>
  </body>
</html>
